{"ast":null,"code":"var _jsxFileName = \"D:\\\\site_videos\\\\frontend\\\\src\\\\pages\\\\Courses\\\\CourseDetail.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport YoutubeEmbed from '../../components/YoutubeEmbed/YoutubeEmbed';\nimport './CourseDetail.css';\nconst CourseDetail = () => {\n  const {\n    slug\n  } = useParams();\n  const [course, setCourse] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch(`http://127.0.0.1:8000/api/course/${slug}/`).then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    }).then(data => {\n      console.log(data); // Добавим отладку\n      setCourse(data);\n    }).catch(error => {\n      console.error('Fetch error:', error);\n    });\n  }, [slug]);\n  const handleNextVideo = () => {\n    if (course && course.audience) {\n      fetch(`http://127.0.0.1:8000/api/course/${slug}/next/${course.audience.slug}/`).then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      }).then(data => {\n        console.log(\"Next course data: \", data); // Добавим отладку\n        if (data.slug) {\n          navigate(`/course/${data.slug}`);\n        } else {\n          console.error(\"Next course slug is undefined\");\n        }\n      }).catch(error => {\n        console.error('Fetch error:', error);\n      });\n    }\n  };\n  if (!course) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(YoutubeEmbed, {\n    embedId: course.video_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, course.files_link && /*#__PURE__*/React.createElement(\"a\", {\n    href: course.files_link,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"button files-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Go to Files\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleNextVideo,\n    className: \"button next-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Next Video\")));\n};\nexport default CourseDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","YoutubeEmbed","CourseDetail","slug","course","setCourse","navigate","fetch","then","response","ok","Error","json","data","console","log","catch","error","handleNextVideo","audience","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","embedId","video_id","files_link","href","target","rel","onClick"],"sources":["D:/site_videos/frontend/src/pages/Courses/CourseDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport YoutubeEmbed from '../../components/YoutubeEmbed/YoutubeEmbed';\r\nimport './CourseDetail.css';\r\n\r\nconst CourseDetail = () => {\r\n  const { slug } = useParams();\r\n  const [course, setCourse] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch(`http://127.0.0.1:8000/api/course/${slug}/`)\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        console.log(data); // Добавим отладку\r\n        setCourse(data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Fetch error:', error);\r\n      });\r\n  }, [slug]);\r\n\r\n  const handleNextVideo = () => {\r\n    if (course && course.audience) {\r\n      fetch(`http://127.0.0.1:8000/api/course/${slug}/next/${course.audience.slug}/`)\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          console.log(\"Next course data: \", data); // Добавим отладку\r\n          if (data.slug) {\r\n            navigate(`/course/${data.slug}`);\r\n          } else {\r\n            console.error(\"Next course slug is undefined\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Fetch error:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  if (!course) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"course-detail\">\r\n      <YoutubeEmbed embedId={course.video_id}/>\r\n      <div className=\"course-buttons\">\r\n        {course.files_link && (\r\n          <a href={course.files_link} target=\"_blank\" rel=\"noopener noreferrer\" className=\"button files-button\">\r\n            Go to Files\r\n          </a>\r\n        )}\r\n        <button onClick={handleNextVideo} className=\"button next-button\">Next Video</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}